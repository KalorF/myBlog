<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>S O L I D 五大设计原则 | Kalor 个人博客</title>
    <meta name="description" content="分享前端知识">
    
    
    <link rel="preload" href="/myBlog/assets/css/0.styles.25498b60.css" as="style"><link rel="preload" href="/myBlog/assets/js/app.db8b6553.js" as="script"><link rel="preload" href="/myBlog/assets/js/13.55302e31.js" as="script"><link rel="prefetch" href="/myBlog/assets/js/10.b48669c7.js"><link rel="prefetch" href="/myBlog/assets/js/11.e45517cc.js"><link rel="prefetch" href="/myBlog/assets/js/12.d56cde9f.js"><link rel="prefetch" href="/myBlog/assets/js/14.e03912cf.js"><link rel="prefetch" href="/myBlog/assets/js/15.4ddbdaf7.js"><link rel="prefetch" href="/myBlog/assets/js/16.b3388d9e.js"><link rel="prefetch" href="/myBlog/assets/js/17.6744ac4a.js"><link rel="prefetch" href="/myBlog/assets/js/18.f7628af3.js"><link rel="prefetch" href="/myBlog/assets/js/19.e5618fb6.js"><link rel="prefetch" href="/myBlog/assets/js/2.4a1d1992.js"><link rel="prefetch" href="/myBlog/assets/js/20.177f4cdd.js"><link rel="prefetch" href="/myBlog/assets/js/21.bb6b33f6.js"><link rel="prefetch" href="/myBlog/assets/js/22.c0c744f9.js"><link rel="prefetch" href="/myBlog/assets/js/23.c6405ffe.js"><link rel="prefetch" href="/myBlog/assets/js/24.315a681c.js"><link rel="prefetch" href="/myBlog/assets/js/25.13d12737.js"><link rel="prefetch" href="/myBlog/assets/js/26.28abbe36.js"><link rel="prefetch" href="/myBlog/assets/js/27.9a19f18c.js"><link rel="prefetch" href="/myBlog/assets/js/28.93e1de04.js"><link rel="prefetch" href="/myBlog/assets/js/29.d0be6967.js"><link rel="prefetch" href="/myBlog/assets/js/3.1cb3eb40.js"><link rel="prefetch" href="/myBlog/assets/js/30.43b10651.js"><link rel="prefetch" href="/myBlog/assets/js/31.c1639363.js"><link rel="prefetch" href="/myBlog/assets/js/32.7385d3b6.js"><link rel="prefetch" href="/myBlog/assets/js/33.944107d0.js"><link rel="prefetch" href="/myBlog/assets/js/34.48fa491d.js"><link rel="prefetch" href="/myBlog/assets/js/35.2abcc1cc.js"><link rel="prefetch" href="/myBlog/assets/js/4.79cc01ee.js"><link rel="prefetch" href="/myBlog/assets/js/5.447d9f96.js"><link rel="prefetch" href="/myBlog/assets/js/6.fa32d2d0.js"><link rel="prefetch" href="/myBlog/assets/js/7.031ab67e.js"><link rel="prefetch" href="/myBlog/assets/js/8.a037560e.js"><link rel="prefetch" href="/myBlog/assets/js/9.a43a2cab.js">
    <link rel="stylesheet" href="/myBlog/assets/css/0.styles.25498b60.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/myBlog/" class="home-link router-link-active"><!----> <span class="site-name">Kalor 个人博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/myBlog/" class="nav-link">博客首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文章归档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/javascriptBase/article/varType.html" class="nav-link">javascript基础</a></li><li class="dropdown-item"><!----> <a href="/myBlog/javascriptAdvanced/article/prototype.html" class="nav-link">javascript进阶</a></li><li class="dropdown-item"><!----> <a href="/myBlog/designMode/article/rule.html" class="nav-link router-link-exact-active router-link-active">前端设计模式</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/KalorF" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/myBlog/" class="nav-link">博客首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">文章归档</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/myBlog/javascriptBase/article/varType.html" class="nav-link">javascript基础</a></li><li class="dropdown-item"><!----> <a href="/myBlog/javascriptAdvanced/article/prototype.html" class="nav-link">javascript进阶</a></li><li class="dropdown-item"><!----> <a href="/myBlog/designMode/article/rule.html" class="nav-link router-link-exact-active router-link-active">前端设计模式</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/KalorF" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/myBlog/all/" class="sidebar-link">目录</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>前端设计模式</span> <span class="arrow down"></span></p> <ul class="sidebar-group-items"><li><a href="/myBlog/designMode/article/rule.html" class="active sidebar-link">S O L I D 五大设计原则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/myBlog/designMode/article/rule.html#s-单一职责原则" class="sidebar-link">S - 单一职责原则</a></li><li class="sidebar-sub-header"><a href="/myBlog/designMode/article/rule.html#o-开放封闭原则" class="sidebar-link">O - 开放封闭原则</a></li><li class="sidebar-sub-header"><a href="/myBlog/designMode/article/rule.html#l-李氏置换原则" class="sidebar-link">L - 李氏置换原则</a></li><li class="sidebar-sub-header"><a href="/myBlog/designMode/article/rule.html#i-接口独立原则" class="sidebar-link">I - 接口独立原则</a></li><li class="sidebar-sub-header"><a href="/myBlog/designMode/article/rule.html#d-依赖倒置原则" class="sidebar-link">D - 依赖倒置原则</a></li></ul></li><li><a href="/myBlog/designMode/article/jquery.html" class="sidebar-link">JQuery封装</a></li><li><a href="/myBlog/designMode/article/factory.html" class="sidebar-link">工厂模式</a></li><li><a href="/myBlog/designMode/article/singleton.html" class="sidebar-link">单例模式</a></li><li><a href="/myBlog/designMode/article/proxy.html" class="sidebar-link">代理模式</a></li><li><a href="/myBlog/designMode/article/observer.html" class="sidebar-link">观察者模式</a></li><li><a href="/myBlog/designMode/article/iteration.html" class="sidebar-link">迭代器模式</a></li><li><a href="/myBlog/designMode/article/status.html" class="sidebar-link">状态模式</a></li><li><a href="/myBlog/designMode/article/decorator.html" class="sidebar-link">装饰器模式</a></li><li><a href="/myBlog/designMode/article/other.html" class="sidebar-link">其它</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="s-o-l-i-d-五大设计原则"><a href="#s-o-l-i-d-五大设计原则" aria-hidden="true" class="header-anchor">#</a> S O L I D 五大设计原则</h1> <h2 id="s-单一职责原则"><a href="#s-单一职责原则" aria-hidden="true" class="header-anchor">#</a> S - 单一职责原则</h2> <ul><li>一个程序只做好一件事</li> <li>如果功能过于复杂就拆分开，每个部分保持独立</li></ul> <h2 id="o-开放封闭原则"><a href="#o-开放封闭原则" aria-hidden="true" class="header-anchor">#</a> O - 开放封闭原则</h2> <ul><li>对扩展开放，对修改封闭</li> <li>增加需求时，扩展新代码，而非修改已有代码</li> <li>软件设计的终极目标</li></ul> <h2 id="l-李氏置换原则"><a href="#l-李氏置换原则" aria-hidden="true" class="header-anchor">#</a> L - 李氏置换原则</h2> <ul><li>子类能覆盖父类</li> <li>父类能出现的地方子类就能出现</li> <li>js 中使用较少（弱类型&amp;继承使用较少）</li></ul> <h2 id="i-接口独立原则"><a href="#i-接口独立原则" aria-hidden="true" class="header-anchor">#</a> I - 接口独立原则</h2> <ul><li>保持接口的单一独立，避免出现“胖接口”</li> <li>js 中没有接口（typescript除外），使用较少</li> <li>类似于单一职责原则，这里更关注接口</li></ul> <h2 id="d-依赖倒置原则"><a href="#d-依赖倒置原则" aria-hidden="true" class="header-anchor">#</a> D - 依赖倒置原则</h2> <ul><li>面向接口编程，依赖于抽象而不依赖于具体</li> <li>使用方法只关注接口而不关注具体类的实现</li> <li>js 中使用较少（没有借口&amp;弱类型）</li></ul> <h3 id="s-和-o-演示（以promise为例）"><a href="#s-和-o-演示（以promise为例）" aria-hidden="true" class="header-anchor">#</a> S 和 O 演示（以Promise为例）</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">loadImg</span><span class="token punctuation">(</span><span class="token parameter">src</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> promise <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'图片加载失败'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> src
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> promise
<span class="token punctuation">}</span>

<span class="token keyword">let</span> src <span class="token operator">=</span> <span class="token string">'https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=2735633715,2749454924&amp;fm=26&amp;gp=0.jpg'</span>
<span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token function">loadImg</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span>

result<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`width: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token punctuation">.</span>width<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> img <span class="token comment">// 返回img可以继续使用then</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">img</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`height: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>img<span class="token punctuation">.</span>height<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">ex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">alert</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="面试题事例"><a href="#面试题事例" aria-hidden="true" class="header-anchor">#</a> 面试题事例</h3> <div class="tip custom-block"><p class="custom-block-title">题目</p> <ul><li>某停车场，分3层，每层100车位</li> <li>每个车位都能监控到车辆的驶入和离开</li> <li>车辆进入前，显示每层的空余车位数量</li> <li>车辆进入时，摄像头可以识别车牌号和时间</li> <li>车辆出来时，出口显示器显示车牌号和停留时长</li></ul></div> <h5 id="代码实现"><a href="#代码实现" aria-hidden="true" class="header-anchor">#</a> 代码实现</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 车辆</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 摄像头</span>
<span class="token keyword">class</span> <span class="token class-name">Camera</span> <span class="token punctuation">{</span>
  <span class="token function">shot</span><span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      num<span class="token punctuation">:</span> car<span class="token punctuation">.</span>num<span class="token punctuation">,</span>
      inTime<span class="token punctuation">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 出口显示屏</span>
<span class="token keyword">class</span> <span class="token class-name">Screen</span> <span class="token punctuation">{</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token parameter">car<span class="token punctuation">,</span> inTime</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'车牌号'</span><span class="token punctuation">,</span> car<span class="token punctuation">.</span>num<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'停车时间'</span><span class="token punctuation">,</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> inTime<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 停车场</span>
<span class="token keyword">class</span> <span class="token class-name">Park</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">floors</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>floors <span class="token operator">=</span> floors
    <span class="token keyword">this</span><span class="token punctuation">.</span>camrea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Camera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>screen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Screen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>carList <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 存储摄像头返回的车辆信息</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">in</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 通过摄像头获取信息</span>
    <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>camrea<span class="token punctuation">.</span><span class="token function">shot</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span>
    <span class="token comment">// 停到某个停车位</span>
    <span class="token keyword">const</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> place <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>floors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>places<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    place<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    info<span class="token punctuation">.</span>place <span class="token operator">=</span> place
    <span class="token comment">// 记录信息</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>carList<span class="token punctuation">[</span>car<span class="token punctuation">.</span>num<span class="token punctuation">]</span> <span class="token operator">=</span> info
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>carList<span class="token punctuation">[</span>car<span class="token punctuation">.</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">out</span><span class="token punctuation">(</span><span class="token parameter">car</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取信息</span>
    <span class="token keyword">const</span> info <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carList<span class="token punctuation">[</span>car<span class="token punctuation">.</span>num<span class="token punctuation">]</span>
    <span class="token comment">// 将停车位清空</span>
    <span class="token keyword">const</span> place <span class="token operator">=</span> info<span class="token punctuation">.</span>place
    place<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 显示时间</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>screen<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>car<span class="token punctuation">,</span> info<span class="token punctuation">.</span>inTime<span class="token punctuation">)</span>
    <span class="token comment">// 清空记录</span>
    <span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>carList<span class="token punctuation">[</span>car<span class="token punctuation">.</span>num<span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">emptyNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>floors<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">floor</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>floor<span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 层还有 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>floor<span class="token punctuation">.</span><span class="token function">emptyPlaceNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 个车位`</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'\n'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 层</span>
<span class="token keyword">class</span> <span class="token class-name">Floor</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> places</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index
    <span class="token keyword">this</span><span class="token punctuation">.</span>places <span class="token operator">=</span> places <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
  <span class="token function">emptyPlaceNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>places<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">p</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>empty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        num <span class="token operator">=</span> num <span class="token operator">+</span> <span class="token number">1</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> num
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 车位</span>
<span class="token keyword">class</span> <span class="token class-name">Place</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>empty <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">in</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>empty <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
  <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>empty <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 测试-------------</span>
<span class="token comment">// 初始化停车场</span>
<span class="token keyword">const</span> floors <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> places <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    places<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Place</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  floors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Floor</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> places<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> park <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Park</span><span class="token punctuation">(</span>floors<span class="token punctuation">)</span>
<span class="token comment">// 初始化车辆</span>
<span class="token keyword">const</span> car1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token number">300</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第一辆车进入'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span><span class="token function">emptyNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span>car1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第二辆车进入'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span><span class="token function">emptyNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span>car2<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第一辆车离开'</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car1<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第二辆车离开'</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car2<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第三辆车进入'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span><span class="token function">emptyNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span>car3<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'第三辆车离开'</span><span class="token punctuation">)</span>
park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car3<span class="token punctuation">)</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/kalorF/myBlog/edit/master/docs/designMode/article/rule.md" target="_blank" rel="noopener noreferrer">在GitHub中编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/myBlog/all/" class="prev">
          目录
        </a></span> <span class="next"><a href="/myBlog/designMode/article/jquery.html">
          JQuery封装
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/myBlog/assets/js/app.db8b6553.js" defer></script><script src="/myBlog/assets/js/13.55302e31.js" defer></script>
  </body>
</html>
